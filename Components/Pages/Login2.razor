@page "/test"

<h3 class="text-center mt-4">Login</h3>

<div class="container mt-5 w-50">
    <div class="card">
        <div class="card-body">
            <EditForm Model="@loginModel" OnValidSubmit="HandleValidSubmit">
                <DataAnnotationsValidator />
                <ValidationSummary class="text-danger" />

                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <InputText id="email" @bind-Value="loginModel.Email" class="form-control" />
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label">Password:</label>
                    <InputText id="password" @bind-Value="loginModel.Password" class="form-control" type="password" />
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary">Login</button>
                </div>
            </EditForm>
        </div>
    </div>

    @if (loginFailed)
    {
        <div class="alert alert-danger mt-4 text-center">
            Login failed. Please check your credentials and try again.
        </div>
    }
</div>

@code {
    private LoginModel loginModel = new LoginModel();
    private bool loginFailed = false;

    private void HandleValidSubmit()
    {
        // Simulate a login attempt
        if (loginModel.Email == "user@example.com" && loginModel.Password == "password")
        {
            // Successful login (you can redirect or handle success accordingly)
            NavigationManager.NavigateTo("/dashboard"); // Replace with your desired route
        }
        else
        {
            // Failed login
            loginFailed = true;
        }
    }

    private class LoginModel
    {
        public string Email { get; set; }
        public string Password { get; set; }
    }

    [Inject]
    private NavigationManager NavigationManager { get; set; }
}
